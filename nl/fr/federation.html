<!DOCTYPE html>
<html lang="fr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="DC.Publisher" content="IBM Corporation">
  <meta name="DC.rights" content="&#xA9; Copyright IBM Corporation 2014, 2019">
  <meta name="IBM.Country" content="ZZ">
  <meta name="DC.date" content="2018-10-26">
  <meta name="dcterms.date" content="2018-10-26">
  <meta name="keywords" content="{{ keywords }}">
  <meta name="subcollection" content="Db2onCloud">
  <meta name="description" content="La virtualisation de données Db2 (qui porte également le nom de fédération) est prise en charge par Db2 on Cloud. Elle vous donne un accès de requête unique à toutes vos données situées dans des bases de données réparties partout dans votre organisation. Vous pouvez accéder aux données qui se trouvent dans toutes vos sources de données Db2 ou Informix, aussi bien sur le cloud que sur site. ">
  <meta name="source.format" content="markdown">




  <!-- Licensed Materials - Property of IBM -->
  <!-- US Government Users Restricted Rights -->
  <!-- Use, duplication or disclosure restricted by -->
  <!-- GSA ADP Schedule Contract with IBM Corp. -->

  <title>Virtualisation de données (fédération)</title>
</head>

<body>
  <main role="main">
    <article aria-labelledby="fed" role="article">
      <!-- Attribute definitions -->
      <section id="section-fed">
        <h1 id="fed">Virtualisation de données (fédération)</h1>
        <p class="shortdesc">La virtualisation de données Db2 (qui porte également le nom de fédération) est prise en charge par Db2 on Cloud. Elle vous donne un accès de requête unique à toutes vos données situées dans des bases de données réparties partout dans votre organisation.
          Vous pouvez accéder aux données qui se trouvent dans toutes vos sources de données Db2 ou Informix, aussi bien sur le cloud que sur site. </p>
        <p>Cette fonction est prise en charge sur toutes les versions de Db2 on Cloud, sauf sur le plan Lite gratuit. Vous pouvez toutefois utiliser ce dernier comme une cible depuis laquelle vous pouvez extraire les données.</p>
        <section id="section-use_cases">
          <h2 id="use_cases">Cas d&#39;utilisation</h2>
          <section id="section-consolidation-des-sources-de-donn-es">
            <h3 id="consolidation-des-sources-de-donn-es">Consolidation des sources de données</h3>
            <p>En fédérant les sources de données qui se trouvent dans votre organisation, aussi bien sur le cloud que sur site, vos données virtualisées semblent être extraites depuis une source unique. La virtualisation des données élimine la nécessité
              de mettre en place un processus de migration lourd et coûteux, en vous donnant la possibilité d&#39;analyser toutes vos données efficacement et pour un coût plus abordable.</p>
            <!-- A company may have started their operations with an on-premises Db2 server. As cloud technology becomes more widespread and companies start to operate on cloud in a cost-effective fashion, there will be continued Cloud growth. However, the organization’s data on both sources remain as a critical component to their decision-making processes. By way of example, a client operating in retail industry needs to be able to access all data, say customer information, to run further analysis on their customers’ consumption behaviors. They need to be able to identify customers, match their records on cloud with already existing ones from an on-premises database and compose them as if the data is being retrieved from a single source. Federation capability here prevents the burdensome data migration process and allows the user to access the data without moving the data.

located in the cloud and on-premises -->
          </section>
          <section id="section-association-db2-warehouse-on-cloud">
            <h3 id="association-db2-warehouse-on-cloud">Association à Db2 Warehouse on Cloud</h3>
            <p>Les utilisateurs des produits de la famille Db2 peuvent fédérer des données depuis des bases de données Db2 on Cloud et Db2 Warehouse on Cloud. A partir d&#39;une interface courante d&#39;accès aux données, vous pouvez facilement ajouter et
              analyser vos données ou effectuer une requête sur ces dernières, sans avoir à mettre en oeuvre des processus ETL complexes ou à ajouter du code supplémentaire.</p>
            <!-- Db2 family users would now be able to federate data between Db2 on Cloud and Db2 Warehouse on Cloud. By being provided a common interface for accessing the data, a user can now easily add or query data from or to the Warehouse without complex ETL processes or any additional code. -->
          </section>
          <section id="section-donn-es-partitionn-es-sur-des-serveurs-multiples">
            <h3 id="donn-es-partitionn-es-sur-des-serveurs-multiples">Données partitionnées sur des serveurs multiples</h3>
            <p>Parfois, il peut vous sembler opportun de partitionner vos données. Avec les fonctionnalités de fédération, des requêtes peuvent être effectuées sur les données partitionnées avec une interface unifiée. La fédération vous permet de mieux équilibrer
              vos charges de travail, de mettre à l&#39;échelle des parties spécifiques d&#39;une application et de créer des microservices qui fonctionnent ensemble. </p>
            <!-- At times, users may choose to partition (shard). With federation capabilities, data can be queried with a unified interface and this lets the user better balance the workload, scale specific parts of an app or create microservices that work together. -->
          </section>
          <section id="section-augmentation-de-la-capacit-d-une-base-de-donn-es-au-del-des-limites-fix-es">
            <h3 id="augmentation-de-la-capacit-d-une-base-de-donn-es-au-del-des-limites-fix-es">Augmentation de la capacité d&#39;une base de données au-delà des limites fixées</h3>
            <p>La fédération vous permet d&#39;accroître la capacité d&#39;une base de données sur site en la fédérant avec une base de données sur le cloud. La virtualisation des données est une option très intéressante si votre base de données sur site
              ne dispose plus de suffisamment de capacité de stockage. L&#39;augmentation de la capacité d&#39;une base de données via la fédération est utile pour un nouveau développement, car les développeurs n&#39;ont pas besoin de modifier une base
              de données qui se trouve déjà en production. Vous pouvez aussi choisir d&#39;effectuer une fédération entre deux bases de données Db2 on Cloud pour augmenter la capacité de ces bases de données au-delà des limites du plan Flex.</p>
            <!-- By using federation, users can increase capacity of an on premises database by federating to or from the cloud. This is a great option if your on premises database is running out of storage. Increased capacity will also be useful for new development as our users no longer need to change a database in production. You can also use this feature to federate between two Db2 on Cloud databases to increase the capacity beyond the current limits of the Flex plan. -->
          </section>
        </section>
        <section id="section-getting_started_fed">
          <h2 id="getting_started_fed">Initiation</h2>
          <p>L&#39;exemple de procédure ci-dessous vous montre comment fédérer vos sources de données disparates afin que les données semblent extraites d&#39;une source unique. Il illustre la fédération de deux bases de données Db2 on Cloud :</p>
          <section id="section-targ">
            <h3 id="targ">Sur la machine cible Db2 on Cloud</h3>
            <p>Nom d&#39;hôte : targetdotcom</p>
            <ol>
              <li>
                <p>Créez une table <code>testdata</code> dans le schéma <code>admin2</code>.</p>
              </li>
              <li>
                <p>A partir de la console Db2 on Cloud, chargez la table <code>testdata</code> en tant qu&#39;utilisateur <code>admin2</code> avec le mot de passe <code>YYYY</code>.</p>
              </li>
            </ol>
            <!-- ### On a client machine of the target

1. Catalog the target machine:<br/>
   `db2 catalog tcpip node <node_name> remote <host_name> server 50000`<br/>

   For example:<br/>
   `db2 catalog tcpip node fedS remote targetdotcom server 50000`

2. Catalog the database on fedS:<br/>
   `db2 catalog db bludb as <db_name> at node <node_name>`

   For example:<br/>
   `db2 catalog db bludb as srcdb at node fedS`

3. Connect to the database on fedS:<br/>
   `db2 connect to <catalog_db_name> user <admin_user> using '<admin_password>'`

   For example:<br/>
   `db2 connect to srcdb user 'admin1' with password 'XXXX'`

4. Create a wrapper on fedS:<br/>
   `db2 "create wrapper drda"`

5. Create a server to talk to the target machine:<br/>
   `db2 "create server <server_name> type dashdb version 11 wrapper drda authorization \"<admin_user_on_target>\" password \"<admin_password_on_target>\" options (host '<target_host_name>', port '50000', dbname 'bludb')"`

   For example:<br/>
   `db2 "create server db2server type dashdb version 11 wrapper drda authorization \"admin2\" password \"YYYY\" options (host 'targetdotcom', port '50000', dbname 'bludb')"`

6. Create the user mapping for admin2:<br/>
   `db2 "create user mapping for <admin_user> server db2server options (remote_authid '<admin_user_on_target>', remote_password '<admin_password_on_target>')"`

   For example:<br/>
   `db2 "create user mapping for admin1 server db2server options (remote_authid 'admin2', remote_password 'YYYY')"`

7. Create a nickname for the database:<br/>
   `db2 -v "create nickname <nickname> for <server_name>.<schema_name>.<table_name>"`

   For example:<br/>
   `db2 -v "create nickname ntest1 for db2server.admin2.testdata"`

### On the Db2 on Cloud source machine

1. Test that you can pull data from the target server:<br/>
   `db2 "select * from <nickname>"`

   For example:<br/>
   `db2 "select * from ntest1"`
-->
          </section>
          <section id="section-fed_src">
            <h3 id="fed_src">Sur une machine Db2 on Cloud utilisée en tant que source de la fédération</h3>
            <p>A partir de la console Db2 on Cloud :</p>
            <ol>
              <li>
                <p>Créez un serveur pour communiquer avec la machine cible :<br>
                  <code>create server &lt;server_name&gt; type dashdb version 11 wrapper drda authorization &quot;&lt;admin_user_on_target&gt;&quot; password &quot;&lt;admin_password_on_target&gt;&quot; options (host &#39;&lt;target_host_name&gt;&#39;, port &#39;50000&#39;, dbname &#39;bludb&#39;)</code></p>
                <p>Par exemple :<br>
                  <code>create server db2server type dashdb version 11 wrapper drda authorization &quot;admin2&quot; password &quot;YYYY&quot; options (host &#39;targetdotcom&#39;, port &#39;50000&#39;, dbname &#39;bludb&#39;)</code></p>
              </li>
              <li>
                <p>Créez le mappage utilisateur pour admin2 :<br>
                  <code>create user mapping for &lt;admin_user&gt; server db2server options (remote_authid &#39;&lt;admin_user_on_target&gt;&#39;, remote_password &#39;&lt;admin_password_on_target&gt;&#39;)</code></p>
                <p>Par exemple :<br>
                  <code>create user mapping for admin1 server db2server options (remote_authid &#39;admin2&#39;, remote_password &#39;YYYY&#39;)</code></p>
              </li>
              <li>
                <p>Créez un alias pour la base de données :<br>
                  <code>create nickname &lt;nickname&gt; for &lt;server_name&gt;.&lt;schema_name&gt;.&lt;table_name&gt;</code></p>
                <p>Par exemple :<br>
                  <code>create nickname ntest1 for db2server.admin2.testdata</code></p>
              </li>
              <li>
                <p>Vérifiez que vous pouvez extraire des données du serveur cible :<br>
                  <code>select * from &lt;nickname&gt;</code></p>
                <p>Par exemple :<br>
                  <code>select * from ntest1</code></p>
              </li>
            </ol>
          </section>
        </section>
        <section id="section-more_info">
          <h2 id="more_info">Informations complémentaires</h2>
          <p>Pour plus d&#39;informations sur la virtualisation des données (fédération), voir : <a href="https://www.ibm.com/support/knowledgecenter/SS6NHC/com.ibm.swg.im.dashdb.doc/fcontainer.html" target="_blank">Federation <img src="../../icons/launch-glyph.svg" alt="Icône de lien externe" title="Icône de lien externe"></a>.</p>
          <p>Par défaut, Db2 on Cloud prend en charge Informix et Db2 (y compris Db2 et Db2 Warehouse sur site). La prise en charge de certaines sources de données devra peut-être être installée par le support IBM sur demande. Pour plus d&#39;informations
            sur les sources de données prises en charge par la fédération, voir : <a href="https://www.ibm.com/support/docview.wss?uid=swg27050561" target="_blank">Federation Supported Data Sources <img src="../../icons/launch-glyph.svg" alt="Icône de lien externe" title="Icône de lien externe"></a>.</p>
        </section>
      </section>
    </article>
  </main>
</body>
</html>