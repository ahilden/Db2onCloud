<!DOCTYPE html>
<html lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="copyright" content="© Copyright IBM Corporation 2016, 2018">
  <meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2016, 2018">
  <meta name="dcterms.rights" content="&#xA9; Copyright IBM Corporation 2014, 2018">
  <meta name="dcterms.date" content="2018-10-26">
  <meta name="source.format" content="markdown">



  <!-- Licensed Materials - Property of IBM -->
  <!-- US Government Users Restricted Rights -->
  <!-- Use, duplication or disclosure restricted by -->
  <!-- GSA ADP Schedule Contract with IBM Corp. -->

  <title>データ仮想化 (フェデレーション)</title>
</head>

<body>
  <main role="main">
    <article aria-labelledby="overview" role="article">
      <!-- Attribute definitions -->

      <section id="section-overview">
        <h1 id="overview">データ仮想化 (フェデレーション)</h1>
        <p class="shortdesc">Db2 データ仮想化 (フェデレーション) は Db2 on Cloud でサポートされています。 データ仮想化によって、組織内の任意の場所にある複数の分散データベース上にあるすべてのデータに対して単一照会アクセスが可能になります。 クラウドとオンプレミスの両方の DB2 または Informix のデータ・ソースにあるデータにアクセスできます。 </p>
        <p>このファンクションは、無料のライト・プランを除き、Db2 on Cloud のすべてのバージョンでサポートされています。 ただし、Lite プランをデータ取得の ターゲットとして使用することは可能です。
        </p>
        <section id="section-use_cases">
          <h2 id="use_cases">ユース・ケース</h2>
          <section id="section--">
            <h3 id="-">データ・ソースの統合</h3>
            <p>クラウドに配置されたデータと組織のオンプレミス・データをフェデレートすることで、 仮想化データは単一のソースから取得されているように見えます。 データ仮想化によって、煩雑でコストのかかるデータ・マイグレーションの作業 が軽 減され、ユーザーは高い効率と費用効果ですべてのデータを分析することが可能になります。
            </p>
            <!-- A company may have started their operations with an on-premises Db2 server. As cloud technology becomes more widespread and companies start to operate on cloud in a cost-effective fashion, there will be continued Cloud growth. However, the organization’s data on both sources remain as a critical component to their decision-making processes. By way of example, a client operating in retail industry needs to be able to access all data, say customer information, to run further analysis on their customers’ consumption behaviors. They need to be able to identify customers, match their records on cloud with already existing ones from an on-premises database and compose them as if the data is being retrieved from a single source. Federation capability here prevents the burdensome data migration process and allows the user to access the data without moving the data.

located in the cloud and on-premises -->

          </section>
          <section id="section-db2-warehouse-on-cloud-">
            <h3 id="db2-warehouse-on-cloud-">Db2 Warehouse on Cloud への接続</h3>
            <p>Db2 ファミリー製品のユーザーは、 Db2 on Cloud および Db2 Warehouse on Cloud データベースのデータを統合できます。 一般的なインター フェースを使用してデータにアクセスしてデータを簡単に追加、照会、および分析することができ、複 雑な ETL プロセスや追 加コードは必要ありません。
            </p>
            <!-- Db2 family users would now be able to federate data between Db2 on Cloud and Db2 Warehouse on Cloud. By being provided a common interface for accessing the data, a user can now easily add or query data from or to the Warehouse without complex ETL processes or any additional code. -->

          </section>
          <section id="section--">
            <h3 id="-">複数サーバーでのデータ・シャード</h3>
            <p>ときには、ユーザーがデータを分割（シャード）していることもあります。 フェデレーション機能を使用すると、統一されたインターフェ ースでシャード・データを照会することができます。 フェデレーションによって、作業負荷をバランスよく配分したり、アプリケーションの特定部 分を拡張したり、適切に連携するマイクロサービスを確立したりすることができます。 </p>
            <!-- At times, users may choose to partition (shard). With federation capabilities, data can be queried with a unified interface and this lets the user better balance the workload, scale specific parts of an app or create microservices that work together. -->

          </section>
          <section id="section--">
            <h3 id="-">制限を超えたデータベース容量の拡張</h3>
            <p>フェデレーションでは、クラウド上のデータベースと連携することにより、オンプレミス・ データベースの容量を増やすことができます。 このケースにおけるデータ仮想化は、オンプレミス・データベースのストレージが不足し ている 場合に最適です。 フェデレーションによるデータベース容量の拡張は、新規開発にも役立ちます。なぜな ら、開発者は本番環境のデータベースを変更する必要がないからです。 2 つの Db2 on Cloud デ ータベースを統合すると、Flex プランの現在の制限を超えてデータベースの容量を増やすこともで
              きます。
            </p>
            <!-- By using federation, users can increase capacity of an on premises database by federating to or from the cloud. This is a great option if your on premises database is running out of storage. Increased capacity will also be useful for new development as our users no longer need to change a database in production. You can also use this feature to federate between two Db2 on Cloud databases to increase the capacity beyond the current limits of the Flex plan. -->

          </section>
        </section>
        <section id="section-getting_started">
          <h2 id="getting_started">概説</h2>
          <p>以下の手順では、分散したデータ・ソースを統合し、あたかも 1 つのデータ・ソースからデー タを取得しているように見せる方法を例示します。 2 つの Db2 on Cloud データベースをフェデレーションする例を以下に示し ます。
          </p>
          <section id="section-db2-on-cloud-">
            <h3 id="db2-on-cloud-">Db2 on Cloud ターゲット・マシン上:</h3>
            <p>ホスト名: targetdotcom</p>
            <ol>
              <li>
                <p>スキーマ <code>admin2</code> にテーブル <code>testdata</code> を作成します。</p>
              </li>
              <li>
                <p>ユーザー <code>admin2</code> として、パスワード <code>YYYY</code> を使用して、Db2 on Cloud コンソールからデータが入った <code>testdata</code> テーブルをロードします。</p>
              </li>
            </ol>
            <!-- ### On a client machine of the target

1. Catalog the target machine:<br/>
   `db2 catalog tcpip node <node_name> remote <host_name> server 50000`<br/>

   For example:<br/>
   `db2 catalog tcpip node fedS remote targetdotcom server 50000`

2. Catalog the database on fedS:<br/>
   `db2 catalog db bludb as <db_name> at node <node_name>`

   For example:<br/>
   `db2 catalog db bludb as srcdb at node fedS`

3. Connect to the database on fedS:<br/>
   `db2 connect to <catalog_db_name> user <admin_user> using '<admin_password>'`

   For example:<br/>
   `db2 connect to srcdb user 'admin1' with password 'XXXX'`

4. Create a wrapper on fedS:<br/>
   `db2 "create wrapper drda"`

5. Create a server to talk to the target machine:<br/>
   `db2 "create server <server_name> type dashdb version 11 wrapper drda authorization \"<admin_user_on_target>\" password \"<admin_password_on_target>\" options (host '<target_host_name>', port '50000', dbname 'bludb')"`

   For example:<br/>
   `db2 "create server db2server type dashdb version 11 wrapper drda authorization \"admin2\" password \"YYYY\" options (host 'targetdotcom', port '50000', dbname 'bludb')"`

6. Create the user mapping for admin2:<br/>
   `db2 "create user mapping for <admin_user> server db2server options (remote_authid '<admin_user_on_target>', remote_password '<admin_password_on_target>')"`

   For example:<br/>
   `db2 "create user mapping for admin1 server db2server options (remote_authid 'admin2', remote_password 'YYYY')"`

7. Create a nickname for the database:<br/>
   `db2 -v "create nickname <nickname> for <server_name>.<schema_name>.<table_name>"`

   For example:<br/>
   `db2 -v "create nickname ntest1 for db2server.admin2.testdata"`

### On the Db2 on Cloud source machine

1. Test that you can pull data from the target server:<br/>
   `db2 "select * from <nickname>"`

   For example:<br/>
   `db2 "select * from ntest1"`
-->

          </section>
          <section id="section--db2-on-cloud-">
            <h3 id="-db2-on-cloud-">フェデレーション・ソースとして使用されている DB2 on Cloud マシン上:</h3>
            <p>Db2 on Cloud コンソールから、以下を行います。</p>
            <ol>
              <li>
                <p>ターゲット・マシンと通信するためのサーバーを作成します。<br>
                  <code>create server &lt;server_name&gt; type dashdb version 11 wrapper drda authorization &quot;&lt;admin_user_on_target&gt;&quot; password &quot;&lt;admin_password_on_target&gt;&quot; options (host &#39;&lt;target_host_name&gt;&#39;, port &#39;50000&#39;, dbname &#39;bludb&#39;)</code></p>
                <p>例えば、以下を行えます。<br>
                  <code>create server db2server type dashdb version 11 wrapper drda authorization &quot;admin2&quot; password &quot;YYYY&quot; options (host &#39;targetdotcom&#39;, port &#39;50000&#39;, dbname &#39;bludb&#39;)</code></p>
              </li>
              <li>
                <p>admin2 用のユーザー・マッピングを作成します。<br>
                  <code>create user mapping for &lt;admin_user&gt; server db2server options (remote_authid &#39;&lt;admin_user_on_target&gt;&#39;, remote_password &#39;&lt;admin_password_on_target&gt;&#39;)</code></p>
                <p>例えば、以下を行えます。<br>
                  <code>create user mapping for admin1 server db2server options (remote_authid &#39;admin2&#39;, remote_password &#39;YYYY&#39;)</code></p>
              </li>
              <li>
                <p>データベースのニックネームを作成します。<br>
                  <code>create nickname &lt;nickname&gt; for &lt;server_name&gt;.&lt;schema_name&gt;.&lt;table_name&gt;</code></p>
                <p>例えば、以下を行えます。<br>
                  <code>create nickname ntest1 for db2server.admin2.testdata</code></p>
              </li>
              <li>
                <p>ターゲット・サーバーからデータを取得できることをテストします。<br>
                  <code>select * from &lt;nickname&gt;</code></p>
                <p>例えば、以下を行えます。<br>
                  <code>select * from ntest1</code></p>
              </li>
            </ol>
          </section>
        </section>
        <section id="section--">
          <h2 id="-">追加情報</h2>
          <p>データ仮想化 (フェデレーション) について詳しくは、
            <a href="https://www.ibm.com/support/knowledgecenter/SS6NHC/com.ibm.swg.im.dashdb.doc/fcontainer.html" target="_blank">
フェデレーション <img src="../../icons/launch-glyph.svg" alt="外部リンク・アイコ
ン" title="外部リンク・アイコン
"></a> を参照してください。</p>
          <p>デフォルトでは、Db2 on Cloud は Informix および Db2 (オンプレミス Db2 および Db2 Warehouse を含む) をサポートします。特定のデータ・ソースのサポートを IBM サポートが要求に応じてインストールしなければならない場合があります。フェデレーションでサポートされるデータ・ソースについて詳しくは、
            <a href="https://www.ibm.com/support/docview.wss?uid=swg27050561" target="_blank">フェデレーションでサポートさ
れるデータ・ソース <img src="../../icons/launch-glyph.svg" alt="外部リ
ンク・アイコン" title="外部リンク・アイコン"></a> を参照してください。</p>
        </section>
      </section>
    </article>
  </main>
</body>
</html>
</article>
</main>
</body>
</html>