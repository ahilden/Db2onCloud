<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  <meta name="DC.Publisher" content="IBM Corporation">
  <meta name="DC.rights" content="&#xA9; Copyright IBM Corporation 2014, 2019">
  <meta name="IBM.Country" content="ZZ">
  <meta name="DC.date" content="2019-01-02">
  <meta name="dcterms.date" content="2019-01-02">
  <meta name="keywords" content="{{ keywords }}">
  <meta name="subcollection" content="Db2onCloud">
  <meta name="description" content="For paid plans, encrypted backups of the database are done daily. A daily backup is kept for each of the last 14 days.">
  <meta name="source.format" content="markdown">

  <meta name="github.edit" content="yes" repo="https://github.com/IBM-Bluemix-Docs/Db2onCloud/blob/master/br.md">
  <meta name="github.issue" content="yes" repo="https://github.com/IBM-Bluemix-Docs/Db2onCloud/issues/new">

  <!-- Licensed Materials - Property of IBM -->
  <!-- US Government Users Restricted Rights -->
  <!-- Use, duplication or disclosure restricted by -->
  <!-- GSA ADP Schedule Contract with IBM Corp. -->

  <title>Backup and restore</title>
</head>

<body>
  <main role="main">
    <article aria-labelledby="bnr" role="article">
      <!-- Attribute definitions -->
      <section id="section-bnr">
        <h1 id="bnr">Backup and restore</h1>
        <p class="shortdesc">For paid plans, encrypted backups of the database are done daily. A daily backup is kept for each of the last 14 days.</p>
        <p>In addition to standard backups, you can use the <a href="https://developer.ibm.com/answers/questions/426878/how-do-i-use-time-travel-query-in-db2-or-db2-on-cl.html" target="_blank" class="external">Time Travel Query</a> to keep historical data
          for other purposes, such as instantly querying old data or simplified auditing. You can also perform your own exports using IBM Data Studio or any Db2 tool.</p>
        <p>For information about point-in-time restores, see <a href="#point-in-time">Point-in-time restore</a>.</p>
        <p>All paid plans typically make use of IBM Cloud Object Storage (COS) to keep backups offsite in 3 different data centers. However, Sydney and certain smaller data centers might not support offsite replication with IBM COS at this time. Check the
          <a href="/docs/services/cloud-object-storage/basics?topic=cloud-object-storage-endpoints#endpoints">IBM COS documentation</a> for your region to determine which regions support offsite replication.</p>
        <p>You can also use <a href="https://www.lift-cli.cloud.ibm.com/" target="_blank" class="external">IBM Lift CLI</a> to import data into Db2 on Cloud.</p>
        <section id="section-point-in-time">
          <h2 id="point-in-time">Point-in-time restore</h2>
          <p>Db2 on Cloud has added a point-in-time restore capability. You can restore to an exact point in time from your backups. Today, for most customers, you must request support to activate this feature. See the following rollout schedule.</p>
          <p>The following is an availability list of the point-in-time restore feature:</p>
          <ul>
            <li>Dallas data center: Available today on single server systems</li>
            <li>All other cases, including Europe and HA systems in Dallas: Request feature activation from support. Full rollout to all systems will be completed by Sept 30, 2019.</li>
            <li>IBM Cloud Dedicated system: Only available by opening a support ticket.</li>
          </ul>
          <p>The following are a selected example of screenshots of the web console UI in which the point-in-time restore operation is initiated and its progress is indicated:</p>
          <ol>
            <li>
              <p>Select the <strong>Point in Time</strong> restore strategy and select a point-in-time date to which you want to restore the database. The point-in-time restore process selects the backup closest to your requested point-in-time date out of
                the pool of retained backups made during the previous 14 days. </p>
              <p class="note">The point-in-time restore process invalidates any of the previously retained backups with dates after the selected point-in-time date because of a resultant divergence in the timeline.</p>
              <p>
                <figure>
                  <img src="images/pit_restore_1.png" alt="View of the highlighted selection of the point-in-time restore strategy" title="Backup and restore console page">
                  <figcaption>Figure 1. View of the highlighted selection of the point-in-time restore strategy</figcaption>
                </figure>
              </p>
            </li>
            <li>
              <p>Confirm that you want to continue with your restore selections. After initiating the restore operation, you cannot change the request.<br>
                <figure>
                  <img src="images/pit_restore_2.png" alt="View of the point-in-time restore confirmation dialog" title="Confirmation dialog">
                  <figcaption>Figure 2. View of the point-in-time restore confirmation dialog</figcaption>
                </figure>
              </p>
            </li>
            <li>
              <p>The restore process is initializing.
                <figure>
                  <img src="images/pit_restore_3.png" alt="View of the point-in-time restore initialization" title="Initialization of point-in-time restoration">
                  <figcaption>Figure 3. View of the point-in-time restore initialization</figcaption>
                </figure>
              </p>
            </li>
            <li>
              <p>Restoring the database to the selected point in time.
                <figure>
                  <img src="images/pit_restore_4.png" alt="View of the progress of the point-in-time restore" title="Progress of restoration">
                  <figcaption>Figure 4. View of the progress of the point-in-time restore</figcaption>
                </figure>
              </p>
            </li>
            <li>
              <p>A new backup point is being created. The point-in-time restored database is ready to use.
                <figure>
                  <img src="images/pit_restore_5.png" alt="View of the creation of a backup point" title="Creating a backup point">
                  <figcaption>Figure 5. View of the creation of a backup point</figcaption>
                </figure>
              </p>
            </li>
            <li>
              <p>The restore operation completed successfully.
                <figure>
                  <img src="images/pit_restore_6.png" alt="View of the successful completion of the restoration" title="Successful completion">
                  <figcaption>Figure 6. View of the successful completion of the restoration</figcaption>
                </figure>
              </p>
            </li>
          </ol>
        </section>
      </section>
    </article>
  </main>
</body>
</html>